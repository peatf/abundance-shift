import e,{useState as t,useRef as r,useEffect as n,useCallback as a}from"react";import{create as o}from"zustand";import{XMarkIcon as i,CheckCircleIcon as c,ExclamationTriangleIcon as u,InformationCircleIcon as s}from"@heroicons/react/24/outline";function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var f,m={exports:{}},d={exports:{}},p={};var y,g,b,v,h,E,x,w,N,S,R,k,T,I,C={};
/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function O(){return g||(g=1,"production"===process.env.NODE_ENV?d.exports=function(){if(f)return p;f=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,s=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.suspense_list"):60120,y=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,b=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,h=e?Symbol.for("react.responder"):60118,E=e?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var f=e.$$typeof;switch(f){case t:switch(e=e.type){case u:case s:case n:case o:case a:case m:return e;default:switch(e=e&&e.$$typeof){case c:case l:case g:case y:case i:return e;default:return f}}case r:return f}}}function w(e){return x(e)===s}return p.AsyncMode=u,p.ConcurrentMode=s,p.ContextConsumer=c,p.ContextProvider=i,p.Element=t,p.ForwardRef=l,p.Fragment=n,p.Lazy=g,p.Memo=y,p.Portal=r,p.Profiler=o,p.StrictMode=a,p.Suspense=m,p.isAsyncMode=function(e){return w(e)||x(e)===u},p.isConcurrentMode=w,p.isContextConsumer=function(e){return x(e)===c},p.isContextProvider=function(e){return x(e)===i},p.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},p.isForwardRef=function(e){return x(e)===l},p.isFragment=function(e){return x(e)===n},p.isLazy=function(e){return x(e)===g},p.isMemo=function(e){return x(e)===y},p.isPortal=function(e){return x(e)===r},p.isProfiler=function(e){return x(e)===o},p.isStrictMode=function(e){return x(e)===a},p.isSuspense=function(e){return x(e)===m},p.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===s||e===o||e===a||e===m||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===y||e.$$typeof===i||e.$$typeof===c||e.$$typeof===l||e.$$typeof===v||e.$$typeof===h||e.$$typeof===E||e.$$typeof===b)},p.typeOf=x,p}():d.exports=(y||(y=1,"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,a=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,i=e?Symbol.for("react.provider"):60109,c=e?Symbol.for("react.context"):60110,u=e?Symbol.for("react.async_mode"):60111,s=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,d=e?Symbol.for("react.memo"):60115,p=e?Symbol.for("react.lazy"):60116,y=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,b=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function h(e){if("object"==typeof e&&null!==e){var m=e.$$typeof;switch(m){case t:var y=e.type;switch(y){case u:case s:case n:case o:case a:case f:return y;default:var g=y&&y.$$typeof;switch(g){case c:case l:case p:case d:case i:return g;default:return m}}case r:return m}}}var E=u,x=s,w=c,N=i,S=t,R=l,k=n,T=p,I=d,O=r,A=o,P=a,_=f,M=!1;function j(e){return h(e)===s}C.AsyncMode=E,C.ConcurrentMode=x,C.ContextConsumer=w,C.ContextProvider=N,C.Element=S,C.ForwardRef=R,C.Fragment=k,C.Lazy=T,C.Memo=I,C.Portal=O,C.Profiler=A,C.StrictMode=P,C.Suspense=_,C.isAsyncMode=function(e){return M||(M=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),j(e)||h(e)===u},C.isConcurrentMode=j,C.isContextConsumer=function(e){return h(e)===c},C.isContextProvider=function(e){return h(e)===i},C.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},C.isForwardRef=function(e){return h(e)===l},C.isFragment=function(e){return h(e)===n},C.isLazy=function(e){return h(e)===p},C.isMemo=function(e){return h(e)===d},C.isPortal=function(e){return h(e)===r},C.isProfiler=function(e){return h(e)===o},C.isStrictMode=function(e){return h(e)===a},C.isSuspense=function(e){return h(e)===f},C.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===s||e===o||e===a||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===i||e.$$typeof===c||e.$$typeof===l||e.$$typeof===g||e.$$typeof===b||e.$$typeof===v||e.$$typeof===y)},C.typeOf=h}()),C)),d.exports}
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function A(){if(v)return b;v=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;return b=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(n,a){for(var o,i,c=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(n),u=1;u<arguments.length;u++){for(var s in o=Object(arguments[u]))t.call(o,s)&&(c[s]=o[s]);if(e){i=e(o);for(var l=0;l<i.length;l++)r.call(o,i[l])&&(c[i[l]]=o[i[l]])}}return c},b}function P(){if(E)return h;E=1;return h="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function _(){return w?x:(w=1,x=Function.call.bind(Object.prototype.hasOwnProperty))}if("production"!==process.env.NODE_ENV){var M=O();m.exports=function(){if(k)return R;k=1;var e=O(),t=A(),r=P(),n=_(),a=function(){if(S)return N;S=1;var e=function(){};if("production"!==process.env.NODE_ENV){var t=P(),r={},n=_();e=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function a(a,o,i,c,u){if("production"!==process.env.NODE_ENV)for(var s in a)if(n(a,s)){var l;try{if("function"!=typeof a[s]){var f=Error((c||"React class")+": "+i+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[s]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw f.name="Invariant Violation",f}l=a[s](o,s,c,i,null,t)}catch(e){l=e}if(!l||l instanceof Error||e((c||"React class")+": type specification of "+i+" `"+s+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof l+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),l instanceof Error&&!(l.message in r)){r[l.message]=!0;var m=u?u():"";e("Failed "+i+" type: "+l.message+(null!=m?m:""))}}}return a.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(r={})},N=a}(),o=function(){};function i(){return null}return"production"!==process.env.NODE_ENV&&(o=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}),R=function(c,u){var s="function"==typeof Symbol&&Symbol.iterator,l="<<anonymous>>",f={array:y("array"),bigint:y("bigint"),bool:y("boolean"),func:y("function"),number:y("number"),object:y("object"),string:y("string"),symbol:y("symbol"),any:p(i),arrayOf:function(e){return p((function(t,n,a,o,i){if("function"!=typeof e)return new d("Property `"+i+"` of component `"+a+"` has invalid PropType notation inside arrayOf.");var c=t[n];if(!Array.isArray(c))return new d("Invalid "+o+" `"+i+"` of type `"+v(c)+"` supplied to `"+a+"`, expected an array.");for(var u=0;u<c.length;u++){var s=e(c,u,a,o,i+"["+u+"]",r);if(s instanceof Error)return s}return null}))},element:p((function(e,t,r,n,a){var o=e[t];return c(o)?null:new d("Invalid "+n+" `"+a+"` of type `"+v(o)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:p((function(t,r,n,a,o){var i=t[r];return e.isValidElementType(i)?null:new d("Invalid "+a+" `"+o+"` of type `"+v(i)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return p((function(t,r,n,a,o){if(!(t[r]instanceof e)){var i=e.name||l;return new d("Invalid "+a+" `"+o+"` of type `"+((c=t[r]).constructor&&c.constructor.name?c.constructor.name:l)+"` supplied to `"+n+"`, expected instance of `"+i+"`.")}var c;return null}))},node:p((function(e,t,r,n,a){return b(e[t])?null:new d("Invalid "+n+" `"+a+"` supplied to `"+r+"`, expected a ReactNode.")})),objectOf:function(e){return p((function(t,a,o,i,c){if("function"!=typeof e)return new d("Property `"+c+"` of component `"+o+"` has invalid PropType notation inside objectOf.");var u=t[a],s=v(u);if("object"!==s)return new d("Invalid "+i+" `"+c+"` of type `"+s+"` supplied to `"+o+"`, expected an object.");for(var l in u)if(n(u,l)){var f=e(u,l,o,i,c+"."+l,r);if(f instanceof Error)return f}return null}))},oneOf:function(e){return Array.isArray(e)?p((function(t,r,n,a,o){for(var i=t[r],c=0;c<e.length;c++)if(m(i,e[c]))return null;var u=JSON.stringify(e,(function(e,t){return"symbol"===h(t)?String(t):t}));return new d("Invalid "+a+" `"+o+"` of value `"+String(i)+"` supplied to `"+n+"`, expected one of "+u+".")})):("production"!==process.env.NODE_ENV&&o(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),i)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&o("Invalid argument supplied to oneOfType, expected an instance of array."),i;for(var t=0;t<e.length;t++){var a=e[t];if("function"!=typeof a)return o("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+E(a)+" at index "+t+"."),i}return p((function(t,a,o,i,c){for(var u=[],s=0;s<e.length;s++){var l=(0,e[s])(t,a,o,i,c,r);if(null==l)return null;l.data&&n(l.data,"expectedType")&&u.push(l.data.expectedType)}return new d("Invalid "+i+" `"+c+"` supplied to `"+o+"`"+(u.length>0?", expected one of type ["+u.join(", ")+"]":"")+".")}))},shape:function(e){return p((function(t,n,a,o,i){var c=t[n],u=v(c);if("object"!==u)return new d("Invalid "+o+" `"+i+"` of type `"+u+"` supplied to `"+a+"`, expected `object`.");for(var s in e){var l=e[s];if("function"!=typeof l)return g(a,o,i,s,h(l));var f=l(c,s,a,o,i+"."+s,r);if(f)return f}return null}))},exact:function(e){return p((function(a,o,i,c,u){var s=a[o],l=v(s);if("object"!==l)return new d("Invalid "+c+" `"+u+"` of type `"+l+"` supplied to `"+i+"`, expected `object`.");var f=t({},a[o],e);for(var m in f){var p=e[m];if(n(e,m)&&"function"!=typeof p)return g(i,c,u,m,h(p));if(!p)return new d("Invalid "+c+" `"+u+"` key `"+m+"` supplied to `"+i+"`.\nBad object: "+JSON.stringify(a[o],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var y=p(s,m,i,c,u+"."+m,r);if(y)return y}return null}))}};function m(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function p(e){if("production"!==process.env.NODE_ENV)var t={},n=0;function a(a,i,c,s,f,m,p){if(s=s||l,m=m||c,p!==r){if(u){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var g=s+":"+c;!t[g]&&n<3&&(o("You are manually calling a React.PropTypes validation function for the `"+m+"` prop on `"+s+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),t[g]=!0,n++)}}return null==i[c]?a?null===i[c]?new d("The "+f+" `"+m+"` is marked as required in `"+s+"`, but its value is `null`."):new d("The "+f+" `"+m+"` is marked as required in `"+s+"`, but its value is `undefined`."):null:e(i,c,s,f,m)}var i=a.bind(null,!1);return i.isRequired=a.bind(null,!0),i}function y(e){return p((function(t,r,n,a,o,i){var c=t[r];return v(c)!==e?new d("Invalid "+a+" `"+o+"` of type `"+h(c)+"` supplied to `"+n+"`, expected `"+e+"`.",{expectedType:e}):null}))}function g(e,t,r,n,a){return new d((e||"React class")+": "+t+" type `"+r+"."+n+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+a+"`.")}function b(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(b);if(null===e||c(e))return!0;var t=function(e){var t=e&&(s&&e[s]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(!t)return!1;var r,n=t.call(e);if(t!==e.entries){for(;!(r=n.next()).done;)if(!b(r.value))return!1}else for(;!(r=n.next()).done;){var a=r.value;if(a&&!b(a[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function h(e){if(null==e)return""+e;var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function E(e){var t=h(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return d.prototype=Error.prototype,f.checkPropTypes=a,f.resetWarningCache=a.resetWarningCache,f.PropTypes=f,f},R}()(M.isElement,!0)}else m.exports=function(){if(I)return T;I=1;var e=P();function t(){}function r(){}return r.resetWarningCache=t,T=function(){function n(t,r,n,a,o,i){if(i!==e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function a(){return n}n.isRequired=n;var o={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:t};return o.PropTypes=o,o}}()();var j=l(m.exports);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function L(e,t){if(e){if("string"==typeof e)return F(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}function D(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e){return $="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(e)}function q(e){var t=function(e,t){if("object"!=$(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=$(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$(t)?t:t+""}function B(e,t,r){return(t=q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e,t){let r;try{r=e()}catch(e){return}return{getItem:e=>{var n;const a=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),o=null!=(n=r.getItem(e))?n:null;return o instanceof Promise?o.then(a):a(o)},setItem:(e,n)=>r.setItem(e,JSON.stringify(n,null==t?void 0:t.replacer)),removeItem:e=>r.removeItem(e)}}const z=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then:e=>z(e)(r),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>z(t)(e)}}},V=(e,t)=>(r,n,a)=>{let o={storage:U((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},i=!1;const c=new Set,u=new Set;let s=o.storage;if(!s)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...e)}),n,a);const l=()=>{const e=o.partialize({...n()});return s.setItem(o.name,{state:e,version:o.version})},f=a.setState;a.setState=(e,t)=>{f(e,t),l()};const m=e(((...e)=>{r(...e),l()}),n,a);let d;a.getInitialState=()=>m;const p=()=>{var e,t;if(!s)return;i=!1,c.forEach((e=>{var t;return e(null!=(t=n())?t:m)}));const a=(null==(t=o.onRehydrateStorage)?void 0:t.call(o,null!=(e=n())?e:m))||void 0;return z(s.getItem.bind(s))(o.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===o.version)return[!1,e.state];if(o.migrate){const t=o.migrate(e.state,e.version);return t instanceof Promise?t.then((e=>[!0,e])):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((e=>{var t;const[a,i]=e;if(d=o.merge(i,null!=(t=n())?t:m),r(d,!0),a)return l()})).then((()=>{null==a||a(d,void 0),d=n(),i=!0,u.forEach((e=>e(d)))})).catch((e=>{null==a||a(void 0,e)}))};return a.persist={setOptions:e=>{o={...o,...e},e.storage&&(s=e.storage)},clearStorage:()=>{null==s||s.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>p(),hasHydrated:()=>i,onHydrate:e=>(c.add(e),()=>{c.delete(e)}),onFinishHydration:e=>(u.add(e),()=>{u.delete(e)})},o.skipHydration||p(),d||m};function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Y={WILLINGNESS_CALIBRATION:"WILLINGNESS_CALIBRATION",OPENNESS_PRIMER:"OPENNESS_PRIMER",PERCEPTION_WORKSHOP:"PERCEPTION_WORKSHOP",CONTRAST_CLARITY_REFLECTION:"CONTRAST_CLARITY_REFLECTION",IMMEDIATE_RELIEF_PRACTICE:"IMMEDIATE_RELIEF_PRACTICE",REINFORCEMENT_BECOMING:"REINFORCEMENT_BECOMING"},H={PATTERN_PUZZLE:"PATTERN_PUZZLE",SEQUENCE_TAP:"SEQUENCE_TAP"},Z="MENU",K="PATTERN_PUZZLE_RELIEF",J="AUDIO_BREATHE_RELIEF",Q={AUDIO_BREATHE_CUE:"AUDIO_BREATHE_CUE",PATTERN_MICRO_PUZZLE_RELIEF:"PATTERN_MICRO_PUZZLE_RELIEF"},X={IDENTIFY_INTERPRETATION:"IDENTIFY_INTERPRETATION",ALTERNATIVE_FRAME_GENERATION:"ALTERNATIVE_FRAME_GENERATION",EVIDENCE_INVENTORY:"EVIDENCE_INVENTORY"},ee={currentInterpretation:"",evidenceWrong:["",""],evidenceServing:["",""],alternativeFrames:[{id:"temp",text:"This is temporary because…",userCompletion:"",rating:0},{id:"teaching",text:"This stage is teaching me…",userCompletion:"",rating:0},{id:"confirms",text:"This experience confirms that I…",userCompletion:"",rating:0}],anchoredFrame:null},te={clarityReflectionInput:"",clarityReflectionType:"text",clarityReflectionAudioBlob:null},re=G(G(G({currentStage:Y.WILLINGNESS_CALIBRATION,willingnessScore:50,opennessPrimerAttempts:0,opennessPrimerCurrentExercise:H.PATTERN_PUZZLE},ee),te),{},{journal:[],exitMessage:"",finalReinforcementMessage:"",immediateReliefCurrentSubStage:Z,toast:{message:"",type:"info",visible:!1,id:null},theme:"light"}),ne=o(V((function(e,t){return G(G({},re),{},{setWillingnessScore:function(r){if(e({willingnessScore:r}),r<50){e({exitMessage:"Openness requires curiosity. Return when you're ready, or explore our Intro Guide for foundational practices."}),t()._prepareForReinforcement()}else e(r<70?{currentStage:Y.OPENNESS_PRIMER,opennessPrimerAttempts:0,opennessPrimerCurrentExercise:H.PATTERN_PUZZLE,exitMessage:""}:{currentStage:Y.PERCEPTION_WORKSHOP,exitMessage:""})},failOpennessPrimerAttempt:function(){var r=t().opennessPrimerAttempts+1;if(e({opennessPrimerAttempts:r}),r>=2){return e({exitMessage:"Openness requires curiosity. Return when you're ready, or explore our Intro Guide for foundational practices."}),t()._prepareForReinforcement(),!0}return t().opennessPrimerCurrentExercise===H.PATTERN_PUZZLE&&e({opennessPrimerCurrentExercise:H.SEQUENCE_TAP}),!1},succeedOpennessPrimer:function(){e({currentStage:Y.PERCEPTION_WORKSHOP,opennessPrimerAttempts:0,exitMessage:""}),t().showToast("Alignment achieved!","success")},updateCurrentInterpretation:function(t){return e({currentInterpretation:t})},updateEvidence:function(t,r,n){var a="wrong"===t?"evidenceWrong":"evidenceServing";e((function(e){var t=D(e[a]);return t[r]=n,B({},a,t)}))},addEvidenceBullet:function(t){var r="wrong"===t?"evidenceWrong":"evidenceServing";e((function(e){var t=[].concat(D(e[r]),[""]);return t.length<=3?B({},r,t):{}}))},removeEvidenceBullet:function(t,r){var n="wrong"===t?"evidenceWrong":"evidenceServing";e((function(e){var t=D(e[n]);return t.length>2?(t.splice(r,1),B({},n,t)):{}}))},updateAlternativeFrameCompletion:function(t,r){e((function(e){return{alternativeFrames:e.alternativeFrames.map((function(e){return e.id===t?G(G({},e),{},{userCompletion:r}):e}))}}))},updateAlternativeFrameRating:function(t,r){e((function(e){return{alternativeFrames:e.alternativeFrames.map((function(e){return e.id===t?G(G({},e),{},{rating:Number(r)}):e}))}}))},commitAndAnchorFrame:function(){var r=t().alternativeFrames.filter((function(e){return""!==e.userCompletion.trim()})).reduce((function(e,t){return t.rating>((null==e?void 0:e.rating)||0)?t:e}),null);if(r){var n={statement:r.text,completion:r.userCompletion,fullText:"".concat(r.text.replace("…","")," ").concat(r.userCompletion),rating:r.rating,timestamp:(new Date).toISOString()};return e((function(e){return{anchoredFrame:n,journal:[].concat(D(e.journal),[n])}})),t().showToast("Frame anchored to journal!","success"),!0}return t().showToast("Please complete and rate at least one frame to anchor.","warning"),!1},proceedFromWorkshop:function(){e({currentStage:Y.CONTRAST_CLARITY_REFLECTION})},setClarityReflectionText:function(t){e({clarityReflectionInput:t,clarityReflectionType:"text",clarityReflectionAudioBlob:null})},setClarityReflectionAudio:function(t,r){e({clarityReflectionInput:r,clarityReflectionType:"audio",clarityReflectionAudioBlob:t})},proceedFromClarity:function(){e({currentStage:Y.IMMEDIATE_RELIEF_PRACTICE,immediateReliefCurrentSubStage:Z})},startImmediateReliefExercise:function(t){"pattern"===t?e({immediateReliefCurrentSubStage:K}):"audio"===t&&e({immediateReliefCurrentSubStage:J})},completeImmediateReliefExercise:function(){t().showToast("Relief achieved!","success"),t()._prepareForReinforcement()},skipImmediateReliefPuzzle:function(){e({immediateReliefCurrentSubStage:Z})},returnToReliefMenu:function(){e({immediateReliefCurrentSubStage:Z})},_prepareForReinforcement:function(){var t=["You are not wrong, you are becoming.","This moment is the perfect launching pad.","Relief is always available."],r=Math.floor(Math.random()*t.length);e({finalReinforcementMessage:t[r],currentStage:Y.REINFORCEMENT_BECOMING})},finishModuleAndReset:function(){e(G(G(G({currentStage:Y.WILLINGNESS_CALIBRATION,willingnessScore:50,opennessPrimerAttempts:0,opennessPrimerCurrentExercise:H.PATTERN_PUZZLE},ee),te),{},{journal:[],exitMessage:"",finalReinforcementMessage:"",immediateReliefCurrentSubStage:Z,toast:{message:"",type:"info",visible:!1,id:null}}))},reset:function(){return e(re)},showToast:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3,o=Date.now();e((function(e){return{toast:{message:r,type:n,visible:!0,id:o}}})),setTimeout((function(){t().toast.id===o&&e((function(e){return{toast:G(G({},e.toast),{},{visible:!1})}}))}),a)},hideToast:function(){e((function(e){return{toast:G(G({},e.toast),{},{visible:!1})}}))}})}),{name:"abundance-store",getStorage:function(){return localStorage},partialize:function(e){return{currentStage:e.currentStage,willingnessScore:e.willingnessScore,opennessPrimerAttempts:e.opennessPrimerAttempts,opennessPrimerCurrentExercise:e.opennessPrimerCurrentExercise,currentInterpretation:e.currentInterpretation,evidenceWrong:e.evidenceWrong,evidenceServing:e.evidenceServing,alternativeFrames:e.alternativeFrames,anchoredFrame:e.anchoredFrame,journal:e.journal,exitMessage:e.exitMessage,finalReinforcementMessage:e.finalReinforcementMessage,immediateReliefCurrentSubStage:e.immediateReliefCurrentSubStage,theme:e.theme,clarityReflectionInput:e.clarityReflectionInput,clarityReflectionType:e.clarityReflectionType}}}));function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],u=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){s=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||L(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(t){var r=t.id,n=t.label,a=t.value,o=t.onChange,i=t.min,c=void 0===i?0:i,u=t.max,s=void 0===u?100:u,l=t.step,f=void 0===l?1:l,m=t.showValue,d=void 0===m||m,p=t.className,y=void 0===p?"":p;return e.createElement("div",{className:"slider-container ".concat(y)},e.createElement("label",{htmlFor:r,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},n),e.createElement("div",{className:"flex items-center space-x-3"},e.createElement("input",{type:"range",id:r,name:r,min:c,max:s,step:f,value:a,onChange:function(e){o(Number(e.target.value))},className:"w-full h-2 bg-gray-200 dark:bg-slate-700 rounded-lg appearance-none cursor-pointer accent-blue-600 dark:accent-blue-500","aria-valuemin":c,"aria-valuemax":s,"aria-valuenow":a,"aria-labelledby":"".concat(r,"-label")}),d&&e.createElement("span",{className:"text-sm text-gray-600 dark:text-gray-400 w-10 text-right tabular-nums"},a)),e.createElement("span",{id:"".concat(r,"-label"),className:"sr-only"},n))}function ie(t){var r=t.children,n=t.onClick,a=t.variant,o=void 0===a?"primary":a,i=t.size,c=void 0===i?"md":i,u=t.disabled,s=void 0!==u&&u,l=t.className,f=void 0===l?"":l,m=t.type,d=void 0===m?"button":m,p=t.ariaLabel;return e.createElement("button",{type:d,onClick:n,disabled:s,"aria-label":p||("string"==typeof r?r:void 0),className:"\n        ".concat("font-semibold rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800 transition-colors duration-150 ease-in-out","\n        ").concat({primary:"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-gray-200 focus:ring-gray-400",danger:"bg-red-600 hover:bg-red-700 text-white focus:ring-red-500",link:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 focus:ring-blue-500 underline"}[o],"\n        ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"}[c],"\n        ").concat(s?"opacity-50 cursor-not-allowed":"","\n        ").concat(f,"\n      ")},r)}function ce(){var a=ne((function(e){return e.setWillingnessScore})),o=ne((function(e){return e.willingnessScore})),i=ae(t(o||50),2),c=i[0],u=i[1],s=r(null);n((function(){s.current&&s.current.focus()}),[]);return e.createElement("div",{className:"flex flex-col items-center space-y-8 animate-fadeIn"},e.createElement("h1",{ref:s,tabIndex:"-1",className:"text-2xl md:text-3xl font-semibold text-center text-gray-800 dark:text-gray-100"},"Willingness Calibration"),e.createElement("p",{className:"text-center text-gray-600 dark:text-gray-300 max-w-md"},"How ready are you to reframe your current perceptions and explore new perspectives on abundance?"),e.createElement("div",{className:"w-full max-w-sm"},e.createElement(oe,{id:"willingness-slider",label:"Readiness to Reframe:",value:c,onChange:u,min:0,max:100,step:1})),e.createElement("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400 italic"},c<50&&"A score below 50 suggests you might not be fully open to this process right now.",c>=50&&c<70&&"A moderate score. We'll start with some exercises to enhance openness.",c>=70&&"Great! You seem ready to dive in."),e.createElement(ie,{onClick:function(){a(c)},size:"lg",ariaLabel:"Submit readiness score of ".concat(c)},"Continue"))}function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ue.apply(null,arguments)}oe.propTypes={id:j.string.isRequired,label:j.string.isRequired,value:j.number.isRequired,onChange:j.func.isRequired,min:j.number,max:j.number,step:j.number,showValue:j.bool,className:j.string},ie.propTypes={children:j.node.isRequired,onClick:j.func,variant:j.oneOf(["primary","secondary","danger","link"]),size:j.oneOf(["sm","md","lg"]),disabled:j.bool,className:j.string,type:j.string,ariaLabel:j.string};var se=[{id:"circle",component:function(t){return e.createElement("svg",ue({viewBox:"0 0 100 100"},t),e.createElement("circle",{cx:"50",cy:"50",r:"40"}))},name:"Circle"},{id:"square",component:function(t){return e.createElement("svg",ue({viewBox:"0 0 100 100"},t),e.createElement("rect",{x:"10",y:"10",width:"80",height:"80"}))},name:"Square"},{id:"triangle",component:function(t){return e.createElement("svg",ue({viewBox:"0 0 100 100"},t),e.createElement("polygon",{points:"50,10 90,90 10,90"}))},name:"Triangle"},{id:"star",component:function(t){return e.createElement("svg",ue({viewBox:"0 0 100 100"},t),e.createElement("polygon",{points:"50,5 61,35 95,35 67,57 78,87 50,68 22,87 33,57 5,35 39,35"}))},name:"Star"},{id:"hexagon",component:function(t){return e.createElement("svg",ue({viewBox:"0 0 100 100"},t),e.createElement("polygon",{points:"25,10 75,10 95,50 75,90 25,90 5,50"}))},name:"Hexagon"},{id:"cross",component:function(t){return e.createElement("svg",ue({viewBox:"0 0 100 100"},t),e.createElement("polygon",{points:"40,10 60,10 60,40 90,40 90,60 60,60 60,90 40,90 40,60 10,60 10,40 40,40"}))},name:"Cross"}];function le(a){var o=a.onSuccess,i=a.onFailure,c=ae(t(null),2),u=c[0],s=c[1],l=ae(t(null),2),f=l[0],m=l[1],d=ae(t(""),2),p=d[0],y=d[1],g=ne((function(e){return e.showToast})),b=r(null);n((function(){s(function(){var e=[].concat(se).sort((function(){return.5-Math.random()})).slice(0,9);if(e.length<3)throw new Error("Not enough shapes for the puzzle");for(var t=[[null,null,null],[null,null,null],[null,null,null]],r=0,n=D(e),a=Math.floor(3*Math.random()),o=Math.floor(3*Math.random()),i=0;i<3;i++)for(var c=0;c<3;c++)i===a&&c===o?t[i][c]=null:(t[i][c]=n[r%n.length]||n[0],r++);var u=n[r%n.length]||n[0],s=se.filter((function(e){return e.id!==u.id}));s=s.sort((function(){return.5-Math.random()}));var l=[u,s[0],s[1]].sort((function(){return.5-Math.random()}));return{grid:t,missingShape:u,candidates:l,emptyCell:{row:a,col:o}}}()),m(null),y(""),b.current&&b.current.focus()}),[]);var v=u||{},h=v.grid,E=v.missingShape,x=v.candidates,w=v.emptyCell;return u?e.createElement("div",{className:"flex flex-col items-center space-y-6 animate-fadeIn p-4"},e.createElement("h2",{ref:b,tabIndex:"-1",className:"text-xl font-semibold text-gray-800 dark:text-gray-100"},"Pattern Alignment Micro-Puzzle"),e.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300 text-center"},"Complete the pattern in the grid by selecting the correct shape."),e.createElement("div",{className:"grid grid-cols-3 gap-1 p-2 bg-gray-200 dark:bg-slate-700 rounded","aria-label":"Pattern grid"},h.map((function(t,r){return t.map((function(t,n){var a,o,i,c=r===w.row&&n===w.col,u="correct"===p&&(r===w.row||n===w.col);return e.createElement("div",{key:"".concat(r,"-").concat(n),className:(a=c,o=u,i="w-16 h-16 md:w-20 md:h-20 border border-gray-300 dark:border-slate-600 flex items-center justify-center",i+=a?" bg-gray-100 dark:bg-slate-700":" bg-white dark:bg-slate-800",o&&"correct"===p&&(i+=" ring-2 ring-green-500"),i),"aria-label":c?"Empty cell":"Cell containing ".concat(null==t?void 0:t.name)},c?f&&"correct"===p?e.createElement(f.component,{className:"w-10 h-10 md:w-12 md:h-12 fill-current text-green-500"}):e.createElement("span",{className:"text-2xl text-gray-400 dark:text-slate-500"},"?"):t&&e.createElement(t.component,{className:"w-10 h-10 md:w-12 md:h-12 fill-current text-blue-500 dark:text-blue-400"}))}))}))),e.createElement("div",{className:"mt-4",role:"group","aria-label":"Candidate shapes"},e.createElement("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Choose the correct shape:"),e.createElement("div",{className:"flex space-x-3 justify-center"},x.map((function(t){return e.createElement("button",{key:t.id,onClick:function(){return e=t,void(p||(m(e),e.id===E.id?(y("correct"),g("Alignment achieved!","success"),setTimeout(o,1500)):(y("incorrect"),g("Not quite. Try to see the pattern.","error"),setTimeout(i,1500))));var e},disabled:!!p,"aria-label":"Select ".concat(t.name),className:"p-2 border-2 rounded-md hover:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400\n                ".concat((null==f?void 0:f.id)===t.id?"correct"===p?"border-green-500 bg-green-100 dark:bg-green-900":"incorrect"===p?"border-red-500 bg-red-100 dark:bg-red-900":"border-blue-500":"border-gray-300 dark:border-slate-600 bg-white dark:bg-slate-800","\n                ").concat(p?"cursor-not-allowed":"cursor-pointer")},e.createElement(t.component,{className:"w-10 h-10 md:w-12 md:h-12 fill-current text-gray-700 dark:text-gray-200"}))})))),"incorrect"===p&&e.createElement("p",{className:"text-red-600 dark:text-red-400 text-sm mt-2"},"Incorrect. One more try on a different puzzle if this is your first attempt.")):e.createElement("div",{className:"text-center p-4"},"Loading puzzle...")}function fe(e,t,r,n,a,o,i){try{var c=e[o](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,a)}function me(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){fe(o,n,a,i,c,"next",e)}function c(e){fe(o,n,a,i,c,"throw",e)}i(void 0)}))}}le.propTypes={onSuccess:j.func.isRequired,onFailure:j.func.isRequired};var de={exports:{}},pe={exports:{}};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(pe);var ye=pe.exports;!function(e){var t=ye.default;function r(){e.exports=r=function(){return a},e.exports.__esModule=!0,e.exports.default=e.exports;var n,a={},o=Object.prototype,i=o.hasOwnProperty,c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",l=c.toStringTag||"@@toStringTag";function f(e,t,r,n){return Object.defineProperty(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n})}try{f({},"")}catch(n){f=function(e,t,r){return e[t]=r}}function m(e,t,r,a){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype);return f(i,"_invoke",function(e,t,r){var a=1;return function(o,i){if(3===a)throw Error("Generator is already running");if(4===a){if("throw"===o)throw i;return{value:n,done:!0}}for(r.method=o,r.arg=i;;){var c=r.delegate;if(c){var u=S(c,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===a)throw a=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=3;var s=d(e,t,r);if("normal"===s.type){if(a=r.done?4:2,s.arg===p)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=4,r.method="throw",r.arg=s.arg)}}}(e,r,new T(a||[])),!0),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}a.wrap=m;var p={};function y(){}function g(){}function b(){}var v={};f(v,u,(function(){return this}));var h=Object.getPrototypeOf,E=h&&h(h(I([])));E&&E!==o&&i.call(E,u)&&(v=E);var x=b.prototype=y.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,r){function n(a,o,c,u){var s=d(e[a],e,o);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==t(f)&&i.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,c,u)}),(function(e){n("throw",e,c,u)})):r.resolve(f).then((function(e){l.value=e,c(l)}),(function(e){return n("throw",e,c,u)}))}u(s.arg)}var a;f(this,"_invoke",(function(e,t){function o(){return new r((function(r,a){n(e,t,r,a)}))}return a=a?a.then(o,o):o()}),!0)}function S(e,t){var r=t.method,a=e.i[r];if(a===n)return t.delegate=null,"throw"===r&&e.i.return&&(t.method="return",t.arg=n,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=d(a,e.i,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,p;var i=o.arg;return i?i.done?(t[e.r]=i.value,t.next=e.n,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function R(e){this.tryEntries.push(e)}function k(e){var t=e[4]||{};t.type="normal",t.arg=n,e[4]=t}function T(e){this.tryEntries=[[-1]],e.forEach(R,this),this.reset(!0)}function I(e){if(null!=e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function t(){for(;++a<e.length;)if(i.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}throw new TypeError(t(e)+" is not iterable")}return g.prototype=b,f(x,"constructor",b),f(b,"constructor",g),g.displayName=f(b,l,"GeneratorFunction"),a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,f(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},a.awrap=function(e){return{__await:e}},w(N.prototype),f(N.prototype,s,(function(){return this})),a.AsyncIterator=N,a.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new N(m(e,t,r,n),o);return a.isGeneratorFunction(t)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},w(x),f(x,l,"Generator"),f(x,u,(function(){return this})),f(x,"toString",(function(){return"[object Generator]"})),a.keys=function(e){var t=Object(e),r=[];for(var n in t)r.unshift(n);return function e(){for(;r.length;)if((n=r.pop())in t)return e.value=n,e.done=!1,e;return e.done=!0,e}},a.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0][4];if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r){i.type="throw",i.arg=e,t.next=r}for(var a=t.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o[4],c=this.prev,u=o[1],s=o[2];if(-1===o[0])return r("end"),!1;if(!u&&!s)throw Error("try statement without catch or finally");if(null!=o[0]&&o[0]<=c){if(c<u)return this.method="next",this.arg=n,r(u),!0;if(c<s)return r(s),!1}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n[0]>-1&&n[0]<=this.prev&&this.prev<n[2]){var a=n;break}}a&&("break"===e||"continue"===e)&&a[0]<=t&&t<=a[2]&&(a=null);var o=a?a[4]:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a[2],p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[2]===e)return this.complete(r[4],r[3]),k(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r[0]===e){var n=r[4];if("throw"===n.type){var a=n.arg;k(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={i:I(e),r:t,n:r},"next"===this.method&&(this.arg=n),p}},a}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(de);var ge=(0,de.exports)(),be=ge;try{regeneratorRuntime=ge}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=ge:Function("r","regeneratorRuntime = r")(ge)}var ve=l(be);function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.waveType,i=void 0===o?"sine":o,c=e.frequencies,u=void 0===c?[261.63,329.63,392,440]:c,s=e.duration,l=void 0===s?.3:s,f=e.volume,m=void 0===f?.3:f,d=r(null),p=r(null),y=ae(t(!1),2),g=y[0],b=y[1],v=a(me(ve.mark((function e(){var t,r;return ve.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.current){e.next=2;break}return e.abrupt("return");case 2:try{t=new(window.AudioContext||window.webkitAudioContext),d.current=t,(r=t.createGain()).gain.setValueAtTime(m,t.currentTime),r.connect(t.destination),p.current=r,"running"===t.state?b(!0):b(!1)}catch(e){console.error("Web Audio API initialization failed:",e),b(!1)}case 3:case"end":return e.stop()}}),e)}))),[m]),h=a(me(ve.mark((function e(){var t;return ve.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=d.current)||"suspended"!==t.state){e.next=16;break}return e.prev=2,e.next=5,t.resume();case 5:b(!0),console.log("AudioContext resumed successfully."),e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(2),console.error("Failed to resume AudioContext:",e.t0),b(!1),e.t0;case 14:e.next=28;break;case 16:if(t){e.next=27;break}return e.next=19,v();case 19:if(!d.current||"suspended"!==d.current.state){e.next=24;break}return e.next=22,h();case 22:e.next=25;break;case 24:d.current&&"running"===d.current.state&&b(!0);case 25:e.next=28;break;case 27:"running"===t.state&&b(!0);case 28:case"end":return e.stop()}}),e,null,[[2,9]])}))),[v]);return n((function(){return v(),function(){d.current&&"closed"!==d.current.state&&(d.current.close().catch(console.error),d.current=null)}}),[v]),{playTone:a((function(e,t){var r=d.current,n=p.current;if(!r||"running"!==r.state)return console.warn("AudioContext not running. Cannot play tone."),void(t&&t());if(e<0||e>=u.length)return console.warn("Invalid tone index."),void(t&&t());var a=r.createOscillator();if(a.type=i,a.frequency.setValueAtTime(u[e],r.currentTime),a.connect(n),a.start(),t){var o=r.currentTime+l;a.stop(o),setTimeout(t,1e3*l)}else a.stop(r.currentTime+l)}),[i,u,l]),audioContext:d.current,isReady:g,resumeContext:h}}var Ee=[{top:"top-2 left-1/2 -translate-x-1/2",label:"Top Circle"},{top:"top-1/2 right-2 -translate-y-1/2",label:"Right Circle"},{top:"bottom-2 left-1/2 -translate-x-1/2",label:"Bottom Circle"},{top:"top-1/2 left-2 -translate-y-1/2",label:"Left Circle"}];function xe(o){var i=o.onSuccess,c=o.onFailure,u=ae(t([]),2),s=u[0],l=u[1],f=ae(t([]),2),m=f[0],d=f[1],p=ae(t(null),2),y=p[0],g=p[1],b=ae(t(null),2),v=b[0],h=b[1],E=ae(t(!1),2),x=E[0],w=E[1],N=ae(t(!1),2),S=N[0],R=N[1],k=ae(t("Watch the sequence carefully."),2),T=k[0],I=k[1],C=ne((function(e){return e.showToast})),O=he({duration:.3,frequencies:[261.63,329.63,392,440,523.25]}),A=O.playTone,P=O.resumeContext,_=O.isReady,M=O.initAudio,j=r(null),F=r([]),L=a((function(){for(var e=[],t=0;t<4;t++)e.push(Math.floor(4*Math.random()));return l(e),e}),[]),$=a(function(){var e=me(ve.mark((function e(t){var r,n;return ve.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(!0),R(!1),I("Memorize this sequence..."),g(null),d([]),r=0;case 6:if(!(r<t.length)){e.next=19;break}return n=t[r],g(n),A(n),e.next=12,new Promise((function(e){return setTimeout(e,500)}));case 12:if(g(null),!(r<t.length-1)){e.next=16;break}return e.next=16,new Promise((function(e){return setTimeout(e,100)}));case 16:r++,e.next=6;break;case 19:g(null),w(!1),R(!0),I("Your turn! Repeat the sequence."),F.current[0]&&F.current[0].focus();case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[A]),q=a(function(){var e=me(ve.mark((function e(t){var r;return ve.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S&&!x){e.next=2;break}return e.abrupt("return");case 2:if(_){e.next=8;break}return e.next=5,P();case 5:if(_||isReady){e.next=8;break}return C("Audio not available. Please enable audio or check browser settings.","error"),e.abrupt("return");case 8:if(A(t),h(t),setTimeout((function(){return h(null)}),400),r=[].concat(D(m),[t]),d(r),s[r.length-1]===t){e.next=19;break}return R(!1),I("Incorrect sequence. Try again after reset."),C("Oops! That wasn't the right step.","error"),setTimeout((function(){c()}),1500),e.abrupt("return");case 19:4===r.length&&(R(!1),I("Correct! Focus restored."),C("Focus restored!","success"),g("all"),setTimeout((function(){g(null),i()}),1e3));case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[S,x,m,s,A,i,c,C,_,P]);n((function(){j.current&&j.current.focus(),M();var e=L();I("Get ready to memorize the sequence...");var t=setTimeout((function(){_?$(e):I('Click "Start Sequence" to begin and enable audio.')}),1500);return function(){return clearTimeout(t)}}),[]);var B=function(){var e=me(ve.mark((function e(){var t;return ve.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_){e.next=3;break}return e.next=3,P();case 3:s.length>0?$(s):(t=L(),$(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return e.createElement("div",{className:"flex flex-col items-center space-y-6 p-4 animate-fadeIn"},e.createElement("h2",{ref:j,tabIndex:"-1",className:"text-xl font-semibold text-gray-800 dark:text-gray-100"},"Sequence Memory Tap"),e.createElement("p",{id:"status-message",role:"status",className:"text-sm text-center text-gray-600 dark:text-gray-300 min-h-[2em]"},T),!_&&!x&&e.createElement(ie,{onClick:B,variant:"secondary",className:"mb-4"},"Start Sequence (Click to enable audio if needed)"),e.createElement("div",{className:"relative w-48 h-48 md:w-60 md:h-60 rounded-full border-2 border-gray-300 dark:border-slate-600 flex items-center justify-center","aria-label":"Sequence circles container"},Ee.map((function(t,r){return e.createElement("button",{key:r,ref:function(e){return F.current[r]=e},"aria-label":t.label,"aria-pressed":y===r||v===r,disabled:!S||x,onClick:function(){return q(r)},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),q(r))},className:"\n              absolute w-12 h-12 md:w-16 md:h-16 rounded-full transition-all duration-150 ease-in-out\n              focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-slate-800\n              ".concat(t.top,"\n              ").concat(y===r||"all"===y&&v!==r?"bg-blue-500 scale-110":v===r?"bg-green-500 scale-110":"bg-gray-200 dark:bg-slate-700 hover:bg-gray-300 dark:hover:bg-slate-600","\n              ").concat(!S||x?"cursor-not-allowed opacity-70":"cursor-pointer","\n              ").concat(v===r&&s[m.length-1]!==r&&m.length<=s.length?"!bg-red-500":"","\n            ")})})),e.createElement("div",{className:"w-4 h-4 bg-gray-400 dark:bg-slate-500 rounded-full"})),e.createElement("div",{className:"mt-4 h-8"}))}function we(){var t=ne((function(e){return e.opennessPrimerCurrentExercise})),a=ne((function(e){return e.opennessPrimerAttempts})),o=ne((function(e){return e.failOpennessPrimerAttempt})),i=ne((function(e){return e.succeedOpennessPrimer})),c=r(null);n((function(){c.current&&c.current.focus()}),[]);var u,s=function(){i()},l=function(){o()};return u=t===H.PATTERN_PUZZLE?e.createElement(le,{onSuccess:s,onFailure:l}):t===H.SEQUENCE_TAP?e.createElement("div",{className:"p-4 text-center"},e.createElement("p",{className:"text-lg font-semibold mb-2"},"Sequence Memory Tap"),e.createElement("p",{className:"text-gray-600 dark:text-gray-300"},"This exercise will test your focus and memory with an audio-visual sequence."),e.createElement("p",{className:"mt-4 text-orange-500"},"(SequenceMemoryTap component implementation pending)"),e.createElement("div",{className:"mt-4 space-x-2"},e.createElement("button",{onClick:s,className:"bg-green-500 text-white px-3 py-1 rounded"},"Simulate Success"),e.createElement("button",{onClick:l,className:"bg-red-500 text-white px-3 py-1 rounded"},"Simulate Failure"))):e.createElement("p",null,"Error: Unknown primer exercise."),e.createElement("div",{className:"animate-fadeIn"},e.createElement("h1",{ref:c,tabIndex:"-1",className:"text-2xl font-bold text-center mb-4 text-gray-800 dark:text-gray-100"},"Openness Primer"),e.createElement("p",{className:"text-center text-gray-600 dark:text-gray-300 mb-6"},"Let's engage your mind with a short exercise to enhance openness. You have ",2-a," attempt(s) remaining for this primer stage."),u)}function Ne(t){var r=t.onComplete;return e.createElement("div",{className:"space-y-4 animate-slideUp"},e.createElement("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200"},"Step 1: Identify Current Interpretation (Stub)"),e.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},"Implementation pending."),e.createElement("div",{className:"flex justify-end"},e.createElement("button",{onClick:r,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded"},"Next (Stub)")))}function Se(t){var r=t.onComplete,n=t.onBack;return e.createElement("div",{className:"space-y-4 animate-slideUp"},e.createElement("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200"},"Step 2: Evidence Inventory (Stub)"),e.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},"Implementation pending."),e.createElement("div",{className:"flex justify-between mt-6"},e.createElement("button",{onClick:n,className:"px-4 py-2 bg-gray-200 rounded"},"Back (Stub)"),e.createElement("button",{onClick:r,className:"px-4 py-2 bg-blue-500 text-white rounded"},"Next (Stub)")))}function Re(t){var r=t.onComplete,n=t.onBack;return e.createElement("div",{className:"space-y-4 animate-slideUp"},e.createElement("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200"},"Step 3: Alternative Frame Generation (Stub)"),e.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},"Implementation pending. This will include editable frame templates and a star rating."),e.createElement("div",{className:"flex justify-between mt-6"},e.createElement("button",{onClick:n,className:"px-4 py-2 bg-gray-200 rounded"},"Back (Stub)"),e.createElement("button",{onClick:r,className:"px-4 py-2 bg-blue-500 text-white rounded"},"Next (Stub)")))}function ke(t){var r=t.onComplete,n=t.onBack;return e.createElement("div",{className:"space-y-4 animate-slideUp"},e.createElement("h2",{className:"text-xl font-semibold text-gray-700 dark:text-gray-200"},"Step 4: Commit Anchor (Stub)"),e.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},"Implementation pending. This will include the anchor button and optional breath loop."),e.createElement("div",{className:"flex justify-between mt-6"},e.createElement("button",{onClick:n,className:"px-4 py-2 bg-gray-200 rounded"},"Back (Stub)"),e.createElement("button",{onClick:r,className:"px-4 py-2 bg-blue-500 text-white rounded"},"Complete Workshop (Stub)")))}xe.propTypes={onSuccess:j.func.isRequired,onFailure:j.func.isRequired},Ne.propTypes={onComplete:j.func.isRequired},Se.propTypes={onComplete:j.func.isRequired,onBack:j.func.isRequired},Re.propTypes={onComplete:j.func.isRequired,onBack:j.func.isRequired},ke.propTypes={onComplete:j.func.isRequired,onBack:j.func.isRequired};var Te={IDENTIFY:"IDENTIFY",EVIDENCE:"EVIDENCE",GENERATE_FRAMES:"GENERATE_FRAMES",COMMIT_ANCHOR:"COMMIT_ANCHOR"};function Ie(){var a=ae(t(Te.IDENTIFY),2),o=a[0],i=a[1],c=ne((function(e){return e.proceedFromWorkshop})),u=r(null);n((function(){u.current&&u.current.focus()}),[o]);var s=function(){switch(o){case Te.IDENTIFY:i(Te.EVIDENCE);break;case Te.EVIDENCE:i(Te.GENERATE_FRAMES);break;case Te.GENERATE_FRAMES:i(Te.COMMIT_ANCHOR);break;case Te.COMMIT_ANCHOR:c()}},l=function(){switch(o){case Te.EVIDENCE:i(Te.IDENTIFY);break;case Te.GENERATE_FRAMES:i(Te.EVIDENCE);break;case Te.COMMIT_ANCHOR:i(Te.GENERATE_FRAMES)}};return e.createElement("div",{className:"animate-fadeIn p-2 md:p-4 space-y-6"},e.createElement("h1",{ref:u,tabIndex:"-1",className:"text-2xl md:text-3xl font-bold text-center text-gray-800 dark:text-gray-100"},"Active Perception Reframing"),e.createElement("div",{className:"flex justify-center space-x-2 mb-6"},Object.values(Te).map((function(t,r){return e.createElement("div",{key:t,className:"w-1/4 h-2 rounded-full ".concat(Object.values(Te).indexOf(o)>=r?"bg-blue-500":"bg-gray-300 dark:bg-slate-700")})}))),o===Te.IDENTIFY&&e.createElement(Ne,{onComplete:s}),o===Te.EVIDENCE&&e.createElement(Se,{onComplete:s,onBack:l}),o===Te.GENERATE_FRAMES&&e.createElement(Re,{onComplete:s,onBack:l}),o===Te.COMMIT_ANCHOR&&e.createElement(ke,{onComplete:s,onBack:l}))}function Ce(){var t=ne((function(e){return e.proceedFromClarity}));return e.createElement("div",{className:"space-y-4 animate-fadeIn"},e.createElement("h1",{className:"text-2xl font-bold text-center mb-4 text-gray-800 dark:text-gray-100"},"Contrast & Clarity Reflection (Stub)"),e.createElement("p",{className:"text-center text-gray-600 dark:text-gray-300"},"Implementation pending. This stage will allow text or audio reflection."),e.createElement("div",{className:"flex justify-center mt-6"},e.createElement("button",{onClick:t,className:"px-4 py-2 bg-blue-500 text-white rounded"},"Proceed (Stub)")))}function Oe(){var t=ne((function(e){return e.startImmediateReliefExercise}));return e.createElement("div",{className:"space-y-6 animate-fadeIn text-center"},e.createElement("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100"},"Immediate Relief Practice (Stub)"),e.createElement("p",{className:"text-gray-600 dark:text-gray-300"},"Choose a quick practice for immediate relief."),e.createElement("div",{className:"flex flex-col space-y-4 mt-6"},e.createElement("button",{onClick:function(){return t("pattern")},className:"px-4 py-2 bg-blue-500 text-white rounded"},"Pattern Micro-Puzzle (Stub)"),e.createElement("button",{onClick:function(){return t("audio")},className:"px-4 py-2 bg-blue-500 text-white rounded"},"Audio Breathe Cue (Stub)")),e.createElement("p",{className:"mt-4 text-orange-500"},"Implementation pending."))}function Ae(){var t=ne((function(e){return e.completeImmediateReliefExercise})),r=ne((function(e){return e.returnToReliefMenu}));return e.createElement("div",{className:"space-y-4 animate-fadeIn text-center"},e.createElement("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100"},"Pattern Micro-Puzzle Relief (Stub)"),e.createElement("p",{className:"text-gray-600 dark:text-gray-300"},"Implementation pending. Find the sequence."),e.createElement("div",{className:"flex justify-center space-x-4 mt-6"},e.createElement("button",{onClick:t,className:"px-4 py-2 bg-green-500 text-white rounded"},"Complete (Stub)"),e.createElement("button",{onClick:r,className:"px-4 py-2 bg-gray-200 rounded"},"Back to Menu (Stub)")),e.createElement("p",{className:"mt-4 text-orange-500"},"Implementation pending."))}function Pe(){var t=ne((function(e){return e.completeImmediateReliefExercise})),r=ne((function(e){return e.returnToReliefMenu}));return e.createElement("div",{className:"space-y-4 animate-fadeIn text-center"},e.createElement("h1",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100"},"Audio Breathe Cue Relief (Stub)"),e.createElement("p",{className:"text-gray-600 dark:text-gray-300"},"Implementation pending. Audio-guided breathing practice."),e.createElement("div",{className:"flex justify-center space-x-4 mt-6"},e.createElement("button",{onClick:t,className:"px-4 py-2 bg-green-500 text-white rounded"},"Complete (Stub)"),e.createElement("button",{onClick:r,className:"px-4 py-2 bg-gray-200 rounded"},"Back to Menu (Stub)")),e.createElement("p",{className:"mt-4 text-orange-500"},"Implementation pending."))}function _e(t){var a=t.onComplete,o=ne((function(e){return e.exitMessage})),i=ne((function(e){return e.finalReinforcementMessage})),c=r(null);return n((function(){c.current&&c.current.focus()}),[]),e.createElement("div",{className:"flex flex-col items-center justify-center text-center space-y-8 py-10 animate-fadeIn"},o&&e.createElement("div",{className:"mb-6 p-4 bg-yellow-50 dark:bg-yellow-800 border-l-4 border-yellow-400 dark:border-yellow-600 rounded-md"},e.createElement("p",{ref:c,tabIndex:"-1",className:"text-yellow-700 dark:text-yellow-200 font-medium"},o)),e.createElement("h1",{ref:o?null:c,tabIndex:o?void 0:-1,className:"text-3xl md:text-4xl font-serif font-medium text-gray-700 dark:text-gray-200"},i),e.createElement(ie,{onClick:a,size:"lg",variant:"primary"},o?"Acknowledge & Reset":"Finish & Reset"))}_e.propTypes={onComplete:j.func.isRequired};var Me=function(){return e.createElement("span",{className:"text-green-500"},"✓")},je=function(){return e.createElement("span",{className:"text-red-500"},"✗")},Fe=function(){return e.createElement("span",{className:"text-blue-500"},"ℹ")},Le=function(){return e.createElement("span",{className:"text-yellow-500"},"⚠")};function De(r){var a=r.message,o=r.type,l=void 0===o?"info":o,f=r.onDismiss,m=ae(t(!1),2),d=m[0],p=m[1];n((function(){p(!0)}),[a]);var y={success:c||Me,error:i||je,warning:u||Le,info:s||Fe}[l];return e.createElement("div",{role:"alert","aria-live":"assertive","aria-atomic":"true",className:"".concat("fixed bottom-5 right-5 md:bottom-10 md:right-10 p-4 rounded-lg shadow-lg flex items-center space-x-3 z-50 transition-all duration-300 ease-out"," ").concat({success:"bg-green-50 dark:bg-green-800 border-l-4 border-green-500 text-green-700 dark:text-green-200",error:"bg-red-50 dark:bg-red-800 border-l-4 border-red-500 text-red-700 dark:text-red-200",warning:"bg-yellow-50 dark:bg-yellow-800 border-l-4 border-yellow-500 text-yellow-700 dark:text-yellow-200",info:"bg-blue-50 dark:bg-blue-800 border-l-4 border-blue-500 text-blue-700 dark:text-blue-200"}[l]," ").concat(d?"opacity-100 translate-y-0":"opacity-0 translate-y-5")},e.createElement(y,{className:"h-6 w-6"}),e.createElement("p",{className:"flex-grow"},a),e.createElement("button",{onClick:f,"aria-label":"Dismiss notification",className:"p-1 rounded-md hover:bg-black/10 dark:hover:bg-white/10 focus:outline-none focus:ring-2 focus:ring-current"},e.createElement(i,{className:"h-5 w-5"})))}De.propTypes={message:j.string.isRequired,type:j.oneOf(["success","error","warning","info"]),onDismiss:j.func.isRequired};var $e=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12 18.75V21m-6.364-.386l1.591-1.591M3 12h2.25m.386-6.364l1.591 1.591M12 12a2.25 2.25 0 00-2.25 2.25A2.25 2.25 0 0012 16.5a2.25 2.25 0 002.25-2.25A2.25 2.25 0 0012 12z"}))},qe=function(){return e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6"},e.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z"}))};function Be(){var t=ne((function(e){return e.theme})),r=ne((function(e){return e.toggleTheme}));return e.createElement("button",{onClick:r,"aria-label":"Switch to ".concat("light"===t?"dark":"light"," mode"),className:"p-2 rounded-full hover:bg-gray-200 dark:hover:bg-slate-700 text-gray-600 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:focus:ring-blue-400"},"light"===t?e.createElement(qe,null):e.createElement($e,null))}function Ue(t){var r=t.onModuleComplete,a=t.initialTheme,o=ne((function(e){return e.currentStage})),i=ne((function(e){return e.theme})),c=ne((function(e){return e.toast})),u=ne((function(e){return e.hideToast})),s=ne((function(e){return e.toggleTheme})),l=ne((function(e){return e.finishModuleAndReset})),f=ne().immediateReliefCurrentSubStage;n((function(){!a||"light"!==a&&"dark"!==a||i!==a&&ne.setState({theme:a})}),[a,i,s]),n((function(){"dark"===i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}),[i]);return e.createElement("div",{className:"abundance-gps-module min-h-screen bg-gray-50 dark:bg-slate-900 text-gray-900 dark:text-gray-100 transition-colors duration-300 p-4 flex flex-col items-center justify-center font-sans"},e.createElement("div",{className:"absolute top-4 right-4"},e.createElement(Be,null)),e.createElement("div",{className:"w-full max-w-2xl mx-auto shadow-xl rounded-lg bg-white dark:bg-slate-800 p-6 md:p-8"},function(){switch(o){case Y.WILLINGNESS_CALIBRATION:return e.createElement(ce,null);case Y.OPENNESS_PRIMER:return e.createElement(we,null);case Y.PERCEPTION_WORKSHOP:return e.createElement(Ie,null);case Y.CONTRAST_CLARITY_REFLECTION:return e.createElement(Ce,null);case Y.IMMEDIATE_RELIEF_PRACTICE:switch(f){case"PATTERN_PUZZLE_RELIEF":return e.createElement(Ae,null);case"AUDIO_BREATHE_RELIEF":return e.createElement(Pe,null);default:return e.createElement(Oe,null)}case Y.REINFORCEMENT_BECOMING:return e.createElement(_e,{onComplete:function(){r&&r(),l()}});default:return e.createElement("div",{className:"p-4 text-red-500"},"Error: Unknown stage or flow corruption. Please reset.",e.createElement("button",{onClick:l,className:"mt-2 p-2 bg-blue-500 text-white rounded"},"Reset Module"))}}()),c.visible&&e.createElement(De,{message:c.message,type:c.type,onDismiss:u}))}function ze(t){var r=t.rating,n=t.onRatingChange,a=t.maxStars,o=void 0===a?5:a,i=t.disabled,c=void 0!==i&&i,u=Array.from({length:o},(function(t,a){var i=a+1;return e.createElement("span",{key:a,className:"cursor-pointer text-xl ".concat(i<=r?"text-yellow-400":"text-gray-300"),onClick:function(){return!c&&n&&n(i)},role:"button","aria-label":"".concat(i," out of ").concat(o," stars")},"★")}));return e.createElement("div",{className:"flex space-x-1"},u)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.onEnd,i=e.onError,c=ae(t(!1),2),u=c[0],s=c[1],l=ae(t(!1),2),f=l[0],m=l[1],d=ae(t([]),2),p=d[0],y=d[1],g=r(null),b=r(null),v=a((function(){if(g.current){var e=g.current.getVoices();e.length>0&&y(e)}}),[]),h=a((function(){"undefined"!=typeof window&&"speechSynthesis"in window?(m(!0),g.current=window.speechSynthesis,v(),void 0!==g.current.onvoiceschanged&&(g.current.onvoiceschanged=v)):m(!1)}),[v]);n((function(){return h(),function(){g.current&&(g.current.onvoiceschanged=null,g.current.cancel())}}),[h]);var E=a((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(f&&g.current&&e){g.current.speaking&&g.current.cancel();var c=new SpeechSynthesisUtterance(e);if(b.current=c,c.lang=t,c.rate=n,c.pitch=a,r){var u=p.find((function(e){return e.voiceURI===r}));u&&(c.voice=u)}c.onstart=function(){s(!0)},c.onend=function(){s(!1),o&&o()},c.onerror=function(e){s(!1),console.error("SpeechSynthesis Error:",e),i&&i(e),o&&o()},g.current.speak(c)}else o&&o()}),[f,p,o,i]);return{speak:E,cancel:a((function(){f&&g.current&&g.current.speaking&&g.current.cancel(),s(!1)}),[f]),isSpeaking:u,isSupported:f,voices:p,initSpeech:h}}function We(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).mimeType,o=void 0===e?"audio/webm":e,i=ae(t("inactive"),2),c=i[0],u=i[1],s=ae(t(null),2),l=s[0],f=s[1],m=ae(t(null),2),d=m[0],p=m[1],y=ae(t(!1),2),g=y[0],b=y[1],v=ae(t(0),2),h=v[0],E=v[1],x=r(null),w=r([]),N=r(null),S=r(null);n((function(){return"undefined"!=typeof window&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&window.MediaRecorder?b(!0):(b(!1),console.warn("MediaRecorder API or getUserMedia is not supported in this browser.")),function(){N.current&&N.current.getTracks().forEach((function(e){return e.stop()})),d&&URL.revokeObjectURL(d),S.current&&clearInterval(S.current)}}),[]);var R=function(){S.current&&clearInterval(S.current),E(0),S.current=setInterval((function(){E((function(e){return e+1}))}),1e3)},k=function(){S.current&&(clearInterval(S.current),S.current=null)},T=a(me(ve.mark((function e(){var t;return ve.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=4;break}return console.error("Audio recording is not supported."),u("inactive"),e.abrupt("return");case 4:if("recording"!==c){e.next=6;break}return e.abrupt("return");case 6:return e.prev=6,e.next=9,navigator.mediaDevices.getUserMedia({audio:!0});case 9:t=e.sent,N.current=t,x.current=new MediaRecorder(t,{mimeType:o}),w.current=[],x.current.ondataavailable=function(e){e.data.size>0&&w.current.push(e.data)},x.current.onstop=function(){var e=new Blob(w.current,{type:o});f(e);var t=URL.createObjectURL(e);p(t),u("finished"),k(),N.current&&(N.current.getTracks().forEach((function(e){return e.stop()})),N.current=null)},x.current.onstart=function(){u("recording"),R()},x.current.onpause=function(){u("paused"),k()},x.current.onresume=function(){u("recording"),R()},x.current.onerror=function(e){console.error("MediaRecorder error:",e),u("inactive"),k()},x.current.start(),e.next=26;break;case 22:e.prev=22,e.t0=e.catch(6),console.error("Error accessing microphone or starting recorder:",e.t0),u("inactive");case 26:case"end":return e.stop()}}),e,null,[[6,22]])}))),[g,o,c]),I=a((function(){!x.current||"recording"!==c&&"paused"!==c||x.current.stop()}),[c]),C=a((function(){x.current&&"recording"===c&&x.current.pause()}),[c]),O=a((function(){x.current&&"paused"===c&&x.current.resume()}),[c]),A=a((function(){d&&URL.revokeObjectURL(d),f(null),p(null),u("inactive"),E(0),w.current=[],x.current&&x.current.state,N.current&&(N.current.getTracks().forEach((function(e){return e.stop()})),N.current=null),S.current&&clearInterval(S.current)}),[d]);return{startRecording:T,stopRecording:I,pauseRecording:C,resumeRecording:O,audioBlob:l,audioUrl:d,recorderState:c,isSupported:g,resetRecording:A,recordingTime:h}}Ue.propTypes={onModuleComplete:j.func,initialTheme:j.oneOf(["light","dark"])},ze.propTypes={rating:j.number.isRequired,onRatingChange:j.func,maxStars:j.number,disabled:j.bool};export{Ue as AbundanceGPS,Ie as ActivePerceptionReframingWorkshop,Re as AlternativeFrameGeneration,Pe as AudioBreatheCue,ke as CommitAnchor,Ce as ContrastClarityReflection,Se as EvidenceInventory,Ne as IdentifyInterpretation,Oe as ImmediateReliefPracticeMenu,we as OpennessPrimer,le as PatternAlignmentPuzzle,Ae as PatternMicroPuzzleRelief,_e as ReinforcementBecoming,xe as SequenceMemoryTap,ze as StarRating,ce as WillingnessCalibration,Q as immediateReliefPracticeSubStages,H as opennessPrimerSubStages,X as perceptionWorkshopSubStages,Y as stages,ne as useAbundanceStore,We as useAudioRecorder,Ve as useSpeechSynthesis,he as useWebAudioTones};
//# sourceMappingURL=index.esm.js.map
